class Solution(object):
    def findTargetSumWays(self, nums, target):
        memo = {}
        def backtrack(index, current_sum):
            if index == len(nums):
                return 1 if current_sum == target else 0
            key = (index, current_sum)
            if key in memo:
                return memo[key]
            add = backtrack(index + 1, current_sum + nums[index])
            subtract = backtrack(index + 1, current_sum - nums[index])

            memo[key] = add + subtract
            return memo[key]
        return backtrack(0, 0)